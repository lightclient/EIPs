<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" href="https:&#x2F;&#x2F;eips.ethereum.com&#x2F;minima.css">

        <!-- opengraph -->
        <meta property="og:locale" content="en_US" />
        <meta property="og:url" content="https:&#x2F;&#x2F;eips.ethereum.com" />
        <meta property="og:site_name" content="Ethereum Improvement Proposals" />

        <!-- twitter -->
        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@ethereum" />

        <script type="application/ld+json">
            {
              "@type": "WebSite",
              "url": "https:&#x2F;&#x2F;eips.ethereum.com",
              "name": "Ethereum Improvement Proposals",
              "description": "Description",
              "@context": "https://schema.org"
            }
        </script>

        

        

<title>EIP-2069: Recommendation for using YAML ABI in ERCs&amp;#x2F;EIPs</title>
<link rel="canonical" href="https:&#x2F;&#x2F;eips.ethereum.comEIPS&#x2F;eip-2069.md" />
<meta property="og:title" content="EIP-2069: Recommendation for using YAML ABI in ERCs&amp;#x2F;EIPs" />
<meta
    name="description"
    content="Details on Ethereum Improvement Proposal 2069 (EIP-2069): Recommendation for using YAML ABI in ERCs&amp;#x2F;EIPs"
/>
<meta
    property="og:description"
    content="Details on Ethereum Improvement Proposal 2069 (EIP-2069): Recommendation for using YAML ABI in ERCs&amp;#x2F;EIPs"
/>
<meta property="og:url" content="https:&#x2F;&#x2F;eips.ethereum.comEIPS&#x2F;eip-2069.md" />
<meta name="twitter:description" content="Details on Ethereum Improvement Proposal 2069 (EIP 2069): Recommendation for using YAML ABI in ERCs&amp;#x2F;EIPs" />

    </head>
    <body>
        <header class="site-header">
            <div class="wrapper">
                <a class="site-title" rel="author" href="https:&#x2F;&#x2F;eips.ethereum.com">Ethereum Improvement Proposals</a>
                <nav class="site-nav">
                    <input type="checkbox" id="nav-trigger" class="nav-trigger" />
                    <label for="nav-trigger">
                        <span class="menu-icon">
                            <svg viewBox="0 0 18 15" width="18px" height="15px">
                                <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
                            </svg>
                        </span>
                    </label>

                    <div class="trigger">
                        
                            <a class="page-link" href="&#x2F;all">All</a>
                        
                            <a class="page-link" href="&#x2F;core">Core</a>
                        
                            <a class="page-link" href="&#x2F;networking">Networking</a>
                        
                            <a class="page-link" href="&#x2F;interface">Interface</a>
                        
                            <a class="page-link" href="&#x2F;erc">ERC</a>
                        
                            <a class="page-link" href="&#x2F;meta">Meta</a>
                        
                            <a class="page-link" href="&#x2F;informational">Informational</a>
                        
                    </div>
                </nav>
            </div>
        </header>
        <main class="page-content" aria-label="Content">
            <div class="wrapper">
                
<div class="home">
    <h1 class="page-heading">
        EIP-2069: Recommendation for using YAML ABI in ERCs&#x2F;EIPs
        <a href=""><svg role="img" aria-label="Source" xmlns="https://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><title>Source</title><path fill-rule="evenodd" d="M9.5 3L8 4.5 11.5 8 8 11.5 9.5 13 14 8 9.5 3zm-5 0L0 8l4.5 5L6 11.5 2.5 8 6 4.5 4.5 3z"/></svg></a>
    </h1>
    <table>
        <tr>
            <th>Author</th>
            <td>
    
        
        
            <a href="https://github.com/axic">Alex Beregszaszi</a>
        
    
</td>
        </tr>

        
          <tr>
              <th>Discussions-To</th>
              <td><a href="https:&#x2F;&#x2F;ethereum-magicians.org&#x2F;t&#x2F;eip-2069-recommendation-for-using-yaml-abi-in-specifications&#x2F;3347">https:&#x2F;&#x2F;ethereum-magicians.org&#x2F;t&#x2F;eip-2069-recommendation-for-using-yaml-abi-in-specifications&#x2F;3347</a></td>
          </tr>
        

        <tr>
            <th>Status</th>
            <td>
                Draft
                
            </td>
        </tr>

        <tr>
            <th>Type</th>
            <td>Informational</td>
        </tr>

        

        <tr>
            <th>Created</th>
            <td>2017-02-11</td>
        </tr>

        

        

        

        

        
  </table>

  
    <h2 id="simple-summary">Simple Summary</h2>
<p>Recommendation for including contract ABI descriptions in EIPs and ERCs as YAML.</p>
<h2 id="motivation">Motivation</h2>
<p>In the past, most ERCs/EIPs included an ABI description purely as a Solidity contract and/or interface. This has several drawbacks:</p>
<ul>
<li>Prefers a single language over others and could hinder the development of new languages.</li>
<li>Locks the specification to a certain version of the Solidity language.</li>
<li>Allows the use of syntactical elements and features of the Solidity language, which may not be well representable in the ABI. This puts other languages at even more disadvantage.</li>
</ul>
<p>This proposal aims to solve all these issues.</p>
<h2 id="specification">Specification</h2>
<p>The <a href="https://solidity.readthedocs.io/en/latest/abi-spec.html">Standard Contract ABI</a> is usually represented as a JSON object.  This works well and several tools – including compilers and clients – support it to handle data encoding.</p>
<p>One shortcoming of the JSON description is its inability to contain comments.  To counter this, we suggest the use of YAML for providing user readable specifications.  Given YAML was designed to be compatible with JSON, several tools exists to convert between the two formats.</p>
<p>The following example contains a single function, <code>transfer</code> with one input and one output in YAML:</p>
<pre style="background-color:#2b303b;">
<code><span style="color:#65737e;"># The transfer function. Takes the recipient address
# as an input and returns a boolean signaling the result.
</span><span style="color:#c0c5ce;">- </span><span style="color:#bf616a;">name</span><span style="color:#c0c5ce;">: </span><span style="color:#bf616a;">transfer
  type</span><span style="color:#c0c5ce;">: </span><span style="color:#bf616a;">function
  payable</span><span style="color:#c0c5ce;">: </span><span style="color:#d08770;">false
  </span><span style="color:#bf616a;">constant</span><span style="color:#c0c5ce;">: </span><span style="color:#d08770;">false
  </span><span style="color:#bf616a;">stateMutability</span><span style="color:#c0c5ce;">: </span><span style="color:#bf616a;">nonpayable
  inputs</span><span style="color:#c0c5ce;">:
  - </span><span style="color:#bf616a;">name</span><span style="color:#c0c5ce;">: </span><span style="color:#bf616a;">recipient
    type</span><span style="color:#c0c5ce;">: </span><span style="color:#bf616a;">address
  </span><span style="color:#c0c5ce;">- </span><span style="color:#bf616a;">name</span><span style="color:#c0c5ce;">: </span><span style="color:#bf616a;">amount
    type</span><span style="color:#c0c5ce;">: </span><span style="color:#bf616a;">uint256
  outputs</span><span style="color:#c0c5ce;">:
  - </span><span style="color:#bf616a;">name</span><span style="color:#c0c5ce;">: &#39;&#39;
    </span><span style="color:#bf616a;">type</span><span style="color:#c0c5ce;">: </span><span style="color:#a3be8c;">bool
</span></code></pre>
<p>Specifications are encouraged to include comments in the YAML ABI.</p>
<p>For details on what fields and values are valid in the ABI, please consult the <a href="https://solidity.readthedocs.io/en/latest/abi-spec.html">Standard Contract ABI</a> specification.</p>
<p>The same in JSON:</p>
<pre style="background-color:#2b303b;">
<code><span style="color:#c0c5ce;">[
  {
    &quot;</span><span style="color:#a3be8c;">name</span><span style="color:#c0c5ce;">&quot;: &quot;</span><span style="color:#a3be8c;">transfer</span><span style="color:#c0c5ce;">&quot;,
    &quot;</span><span style="color:#a3be8c;">type</span><span style="color:#c0c5ce;">&quot;: &quot;</span><span style="color:#a3be8c;">function</span><span style="color:#c0c5ce;">&quot;,
    &quot;</span><span style="color:#a3be8c;">payable</span><span style="color:#c0c5ce;">&quot;: </span><span style="color:#d08770;">false</span><span style="color:#c0c5ce;">,
    &quot;</span><span style="color:#a3be8c;">constant</span><span style="color:#c0c5ce;">&quot;: </span><span style="color:#d08770;">false</span><span style="color:#c0c5ce;">,
    &quot;</span><span style="color:#a3be8c;">stateMutability</span><span style="color:#c0c5ce;">&quot;: &quot;</span><span style="color:#a3be8c;">nonpayable</span><span style="color:#c0c5ce;">&quot;,
    &quot;</span><span style="color:#a3be8c;">inputs</span><span style="color:#c0c5ce;">&quot;: [
      {
        &quot;</span><span style="color:#a3be8c;">name</span><span style="color:#c0c5ce;">&quot;: &quot;</span><span style="color:#a3be8c;">recipient</span><span style="color:#c0c5ce;">&quot;,
        &quot;</span><span style="color:#a3be8c;">type</span><span style="color:#c0c5ce;">&quot;: &quot;</span><span style="color:#a3be8c;">address</span><span style="color:#c0c5ce;">&quot;
      },
      {
        &quot;</span><span style="color:#a3be8c;">name</span><span style="color:#c0c5ce;">&quot;: &quot;</span><span style="color:#a3be8c;">amount</span><span style="color:#c0c5ce;">&quot;,
        &quot;</span><span style="color:#a3be8c;">type</span><span style="color:#c0c5ce;">&quot;: &quot;</span><span style="color:#a3be8c;">uint256</span><span style="color:#c0c5ce;">&quot;
      }
    ],
    &quot;</span><span style="color:#a3be8c;">outputs</span><span style="color:#c0c5ce;">&quot;: [
      {
        &quot;</span><span style="color:#a3be8c;">name</span><span style="color:#c0c5ce;">&quot;: &quot;&quot;,
        &quot;</span><span style="color:#a3be8c;">type</span><span style="color:#c0c5ce;">&quot;: &quot;</span><span style="color:#a3be8c;">bool</span><span style="color:#c0c5ce;">&quot;
      }
    ]
  }
]
</span></code></pre><h2 id="rationale">Rationale</h2>
<p>The aim was to chose a representation which is well supported by tools and supports comments. While inventing a more concise description language seems like a good idea, it felt as an unnecessary layer of complexity.</p>
<h2 id="backwards-compatibility">Backwards Compatibility</h2>
<p>This has no effect on backwards compatibility.</p>
<h2 id="test-cases">Test Cases</h2>
<p>TBA</p>
<h2 id="implementation">Implementation</h2>
<p><a href="https://github.com/axic/yamabi/">yamabi</a> is a Javascript tool to convert between the above YAML and the more widely used JSON format.</p>
<h2 id="copyright">Copyright</h2>
<p>Copyright and related rights waived via <a href="https://creativecommons.org/publicdomain/zero/1.0/">CC0</a>.</p>



            </div>
        </main>


        <footer class="site-footer h-card">
            <div class="wrapper">
                <h2 class="footer-heading">Ethereum Improvement Proposals</h2>
                <div class="footer-col-wrapper">
                    <div class="footer-col footer-col-1">
                        <ul class="contact-list">
                            <li class="p-name">
                                
                                GitHub User
                                
                            </li>
                            <li>
                                <a class="u-email" href="mailto:your-email@domain.com">
                                  your-email@domain.com
                                </a>
                              </li>
                            </ul>
                    </div>
                    <div class="footer-col footer-col-3">
                        <p>Description</p>
                    </div>
                </div>
            </div>
        </footer>
    </body>
</html>
