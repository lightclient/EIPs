<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" href="https:&#x2F;&#x2F;eips.ethereum.com&#x2F;minima.css">

        <!-- opengraph -->
        <meta property="og:locale" content="en_US" />
        <meta property="og:url" content="https:&#x2F;&#x2F;eips.ethereum.com" />
        <meta property="og:site_name" content="Ethereum Improvement Proposals" />

        <!-- twitter -->
        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@ethereum" />

        <script type="application/ld+json">
            {
              "@type": "WebSite",
              "url": "https:&#x2F;&#x2F;eips.ethereum.com",
              "name": "Ethereum Improvement Proposals",
              "description": "Description",
              "@context": "https://schema.org"
            }
        </script>

        

        

<title>EIP-2015: Wallet Update Chain JSON-RPC Method (`wallet_updateChain`)</title>
<link rel="canonical" href="https:&#x2F;&#x2F;eips.ethereum.comEIPS&#x2F;eip-2015.md" />
<meta property="og:title" content="EIP-2015: Wallet Update Chain JSON-RPC Method (`wallet_updateChain`)" />
<meta
    name="description"
    content="Details on Ethereum Improvement Proposal 2015 (EIP-2015): Wallet Update Chain JSON-RPC Method (`wallet_updateChain`)"
/>
<meta
    property="og:description"
    content="Details on Ethereum Improvement Proposal 2015 (EIP-2015): Wallet Update Chain JSON-RPC Method (`wallet_updateChain`)"
/>
<meta property="og:url" content="https:&#x2F;&#x2F;eips.ethereum.comEIPS&#x2F;eip-2015.md" />
<meta name="twitter:description" content="Details on Ethereum Improvement Proposal 2015 (EIP 2015): Wallet Update Chain JSON-RPC Method (`wallet_updateChain`)" />

    </head>
    <body>
        <header class="site-header">
            <div class="wrapper">
                <a class="site-title" rel="author" href="https:&#x2F;&#x2F;eips.ethereum.com">Ethereum Improvement Proposals</a>
                <nav class="site-nav">
                    <input type="checkbox" id="nav-trigger" class="nav-trigger" />
                    <label for="nav-trigger">
                        <span class="menu-icon">
                            <svg viewBox="0 0 18 15" width="18px" height="15px">
                                <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
                            </svg>
                        </span>
                    </label>

                    <div class="trigger">
                        
                            <a class="page-link" href="&#x2F;all">All</a>
                        
                            <a class="page-link" href="&#x2F;core">Core</a>
                        
                            <a class="page-link" href="&#x2F;networking">Networking</a>
                        
                            <a class="page-link" href="&#x2F;interface">Interface</a>
                        
                            <a class="page-link" href="&#x2F;erc">ERC</a>
                        
                            <a class="page-link" href="&#x2F;meta">Meta</a>
                        
                            <a class="page-link" href="&#x2F;informational">Informational</a>
                        
                    </div>
                </nav>
            </div>
        </header>
        <main class="page-content" aria-label="Content">
            <div class="wrapper">
                
<div class="home">
    <h1 class="page-heading">
        EIP-2015: Wallet Update Chain JSON-RPC Method (`wallet_updateChain`)
        <a href=""><svg role="img" aria-label="Source" xmlns="https://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><title>Source</title><path fill-rule="evenodd" d="M9.5 3L8 4.5 11.5 8 8 11.5 9.5 13 14 8 9.5 3zm-5 0L0 8l4.5 5L6 11.5 2.5 8 6 4.5 4.5 3z"/></svg></a>
    </h1>
    <table>
        <tr>
            <th>Author</th>
            <td>
    
        
        
            <a href="https://github.com/pedrouid">Pedro Gomes</a>
        
    
</td>
        </tr>

        
          <tr>
              <th>Discussions-To</th>
              <td><a href="https:&#x2F;&#x2F;ethereum-magicians.org&#x2F;t&#x2F;eip-2015-wallet-update-chain-json-rpc-method-wallet-updatechain&#x2F;3274">https:&#x2F;&#x2F;ethereum-magicians.org&#x2F;t&#x2F;eip-2015-wallet-update-chain-json-rpc-method-wallet-updatechain&#x2F;3274</a></td>
          </tr>
        

        <tr>
            <th>Status</th>
            <td>
                Draft
                
            </td>
        </tr>

        <tr>
            <th>Type</th>
            <td>Standards Track</td>
        </tr>

        
          <tr>
              <th>Category</th>
              <td>Interface</td>
          </tr>
        

        <tr>
            <th>Created</th>
            <td>2019-05-12</td>
        </tr>

        

        
          <tr>
              <th>Requires</th>
              <td>155, 1474</td>
          </tr>
        

        

        

        
  </table>

  
    <h2 id="simple-summary">Simple Summary</h2>
<p>Wallets can update the active chain when connected to a Dapp but not vice-versa, with <code>wallet_updateChain</code> the Dapp will be able to request this change from the Wallet.</p>
<h2 id="abstract">Abstract</h2>
<p>Dapp can request the Wallet to switch chains by providing the minimal parameters of <code>chainId</code>, <code>networkId</code>, <code>rpcUrl</code> and <code>nativeCurrency</code>. The Wallet will display a UI element to inform the user of this change.</p>
<h2 id="motivation">Motivation</h2>
<p>Wallet and Dapp communication rely on the present provider that acts as middleware between the two. Using JSON-RPC methods, the Dapp is able to access not only the active accounts but also the active chain. With <a href="https://eips.ethereum.org/EIPS/eip-1102">EIP-1102</a> we introduced the ability for Dapps to request access to the active accounts and the Wallet is able to provide a simple UI to inform the user of this action however the same is not currently possible for switching chains. The current pattern is to display some UI to request the user to switch chains within the Dapp, however this could be easily improved by triggering a UI from the Wallet side that can be approved or rejected by the user instead.</p>
<h2 id="specification">Specification</h2>
<p>The JSON RPC method will be part of <code>wallet_</code> namespaced methods which aim to improve the UX and interoperability between Dapps and Wallets.</p>
<h3 id="required-parameters">Required Parameters</h3>
<ul>
<li>chainId (number): the id of the chain complaint with EIP-155</li>
<li>networkId (number): the id of the chain's network</li>
<li>rpcUrl (string): the url endpoint for RPC requests for this chain</li>
<li>nativeCurrency (Object): includes two fields for <code>name</code> (string) and <code>symbol</code> (string)</li>
</ul>
<h3 id="best-practices">Best Practices</h3>
<ul>
<li>The Wallet should display a UI view similar to a <a href="https://eips.ethereum.org/EIPS/eip-1102">EIP-1102</a> informing the user that the currently connected Dapp wants to switch to the specified chain.</li>
<li>the Wallet should default the rpcUrl to any existing endpoints matching a chainId known previously to the wallet, otherwise it will use the provided rpcUrl as a fallback.</li>
<li>the Wallet should call the rpcUrl with <code>net_version</code> and <code>eth_chainId</code> to verify the provided chainId and networkId match the responses from the rpcUrl</li>
<li>the Wallet should change all nativeCurrency symbols to the provided parameter</li>
</ul>
<h3 id="example-1">Example 1</h3>
<p>A JSON-RPC request from a Dapp to switch the Ethereum Goerli chain would be as follows:</p>
<pre style="background-color:#2b303b;">
<code><span style="color:#c0c5ce;">{
  &quot;</span><span style="color:#a3be8c;">id</span><span style="color:#c0c5ce;">&quot;:</span><span style="color:#d08770;">1</span><span style="color:#c0c5ce;">,
  &quot;</span><span style="color:#a3be8c;">jsonrpc</span><span style="color:#c0c5ce;">&quot;: &quot;</span><span style="color:#a3be8c;">2.0</span><span style="color:#c0c5ce;">&quot;,
  &quot;</span><span style="color:#a3be8c;">method</span><span style="color:#c0c5ce;">&quot;: &quot;</span><span style="color:#a3be8c;">wallet_updateChain</span><span style="color:#c0c5ce;">&quot;,
  &quot;</span><span style="color:#a3be8c;">params</span><span style="color:#c0c5ce;">&quot;: [
    {
      &quot;</span><span style="color:#a3be8c;">chainId</span><span style="color:#c0c5ce;">&quot;: </span><span style="color:#d08770;">5</span><span style="color:#c0c5ce;">,
      &quot;</span><span style="color:#a3be8c;">networkId</span><span style="color:#c0c5ce;">&quot;: </span><span style="color:#d08770;">5</span><span style="color:#c0c5ce;">,
      &quot;</span><span style="color:#a3be8c;">rpcUrl</span><span style="color:#c0c5ce;">&quot;: &quot;</span><span style="color:#a3be8c;">https://goerli.infura.io/v3/406405f9c65348f99d0d5c27104b2213</span><span style="color:#c0c5ce;">&quot;,
      &quot;</span><span style="color:#a3be8c;">nativeCurrency</span><span style="color:#c0c5ce;">&quot;: {
        &quot;</span><span style="color:#a3be8c;">name</span><span style="color:#c0c5ce;">&quot;: &quot;</span><span style="color:#a3be8c;">Goerli ETH</span><span style="color:#c0c5ce;">&quot;,
        &quot;</span><span style="color:#a3be8c;">symbol</span><span style="color:#c0c5ce;">&quot;: &quot;</span><span style="color:#a3be8c;">gorETH</span><span style="color:#c0c5ce;">&quot;
      }
    }
  ]
}
</span></code></pre><h3 id="example-2">Example 2</h3>
<p>A JSON-RPC request from a Dapp to switch the POA Network's xDAI chain would be as follows:</p>
<pre style="background-color:#2b303b;">
<code><span style="color:#c0c5ce;">{
  &quot;</span><span style="color:#a3be8c;">id</span><span style="color:#c0c5ce;">&quot;:</span><span style="color:#d08770;">1</span><span style="color:#c0c5ce;">,
  &quot;</span><span style="color:#a3be8c;">jsonrpc</span><span style="color:#c0c5ce;">&quot;: &quot;</span><span style="color:#a3be8c;">2.0</span><span style="color:#c0c5ce;">&quot;,
  &quot;</span><span style="color:#a3be8c;">method</span><span style="color:#c0c5ce;">&quot;: &quot;</span><span style="color:#a3be8c;">wallet_updateChain</span><span style="color:#c0c5ce;">&quot;,
  &quot;</span><span style="color:#a3be8c;">params</span><span style="color:#c0c5ce;">&quot;: [
    {
      &quot;</span><span style="color:#a3be8c;">chainId</span><span style="color:#c0c5ce;">&quot;: </span><span style="color:#d08770;">100</span><span style="color:#c0c5ce;">,
      &quot;</span><span style="color:#a3be8c;">networkId</span><span style="color:#c0c5ce;">&quot;: </span><span style="color:#d08770;">100</span><span style="color:#c0c5ce;">,
      &quot;</span><span style="color:#a3be8c;">rpcUrl</span><span style="color:#c0c5ce;">&quot;: &quot;</span><span style="color:#a3be8c;">https://dai.poa.network</span><span style="color:#c0c5ce;">&quot;,
      &quot;</span><span style="color:#a3be8c;">nativeCurrency</span><span style="color:#c0c5ce;">&quot;: {
        &quot;</span><span style="color:#a3be8c;">name</span><span style="color:#c0c5ce;">&quot;: &quot;</span><span style="color:#a3be8c;">xDAI</span><span style="color:#c0c5ce;">&quot;,
        &quot;</span><span style="color:#a3be8c;">symbol</span><span style="color:#c0c5ce;">&quot;: &quot;</span><span style="color:#a3be8c;">xDAI</span><span style="color:#c0c5ce;">&quot;
      }
    }
  ]
}
</span></code></pre><h2 id="copyright">Copyright</h2>
<p>Copyright and related rights waived via <a href="https://creativecommons.org/publicdomain/zero/1.0/">CC0</a>.</p>



            </div>
        </main>


        <footer class="site-footer h-card">
            <div class="wrapper">
                <h2 class="footer-heading">Ethereum Improvement Proposals</h2>
                <div class="footer-col-wrapper">
                    <div class="footer-col footer-col-1">
                        <ul class="contact-list">
                            <li class="p-name">
                                
                                GitHub User
                                
                            </li>
                            <li>
                                <a class="u-email" href="mailto:your-email@domain.com">
                                  your-email@domain.com
                                </a>
                              </li>
                            </ul>
                    </div>
                    <div class="footer-col footer-col-3">
                        <p>Description</p>
                    </div>
                </div>
            </div>
        </footer>
    </body>
</html>
