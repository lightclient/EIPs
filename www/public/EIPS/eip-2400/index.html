<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" href="https:&#x2F;&#x2F;eips.ethereum.com&#x2F;minima.css">

        <!-- opengraph -->
        <meta property="og:locale" content="en_US" />
        <meta property="og:url" content="https:&#x2F;&#x2F;eips.ethereum.com" />
        <meta property="og:site_name" content="Ethereum Improvement Proposals" />

        <!-- twitter -->
        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@ethereum" />

        <script type="application/ld+json">
            {
              "@type": "WebSite",
              "url": "https:&#x2F;&#x2F;eips.ethereum.com",
              "name": "Ethereum Improvement Proposals",
              "description": "Description",
              "@context": "https://schema.org"
            }
        </script>

        

        

<title>EIP-2400: URL Format for Transaction Receipts</title>
<link rel="canonical" href="https:&#x2F;&#x2F;eips.ethereum.comEIPS&#x2F;eip-2400.md" />
<meta property="og:title" content="EIP-2400: URL Format for Transaction Receipts" />
<meta
    name="description"
    content="Details on Ethereum Improvement Proposal 2400 (EIP-2400): URL Format for Transaction Receipts"
/>
<meta
    property="og:description"
    content="Details on Ethereum Improvement Proposal 2400 (EIP-2400): URL Format for Transaction Receipts"
/>
<meta property="og:url" content="https:&#x2F;&#x2F;eips.ethereum.comEIPS&#x2F;eip-2400.md" />
<meta name="twitter:description" content="Details on Ethereum Improvement Proposal 2400 (EIP 2400): URL Format for Transaction Receipts" />

    </head>
    <body>
        <header class="site-header">
            <div class="wrapper">
                <a class="site-title" rel="author" href="https:&#x2F;&#x2F;eips.ethereum.com">Ethereum Improvement Proposals</a>
                <nav class="site-nav">
                    <input type="checkbox" id="nav-trigger" class="nav-trigger" />
                    <label for="nav-trigger">
                        <span class="menu-icon">
                            <svg viewBox="0 0 18 15" width="18px" height="15px">
                                <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
                            </svg>
                        </span>
                    </label>

                    <div class="trigger">
                        
                            <a class="page-link" href="&#x2F;all">All</a>
                        
                            <a class="page-link" href="&#x2F;core">Core</a>
                        
                            <a class="page-link" href="&#x2F;networking">Networking</a>
                        
                            <a class="page-link" href="&#x2F;interface">Interface</a>
                        
                            <a class="page-link" href="&#x2F;erc">ERC</a>
                        
                            <a class="page-link" href="&#x2F;meta">Meta</a>
                        
                            <a class="page-link" href="&#x2F;informational">Informational</a>
                        
                    </div>
                </nav>
            </div>
        </header>
        <main class="page-content" aria-label="Content">
            <div class="wrapper">
                
<div class="home">
    <h1 class="page-heading">
        EIP-2400: URL Format for Transaction Receipts
        <a href=""><svg role="img" aria-label="Source" xmlns="https://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><title>Source</title><path fill-rule="evenodd" d="M9.5 3L8 4.5 11.5 8 8 11.5 9.5 13 14 8 9.5 3zm-5 0L0 8l4.5 5L6 11.5 2.5 8 6 4.5 4.5 3z"/></svg></a>
    </h1>
    <table>
        <tr>
            <th>Author</th>
            <td>
    
        
        
            <a href="https://github.com/3esmit">Ricardo Guilherme Schmidt</a>,
        
    
        
        
            <a href="https://github.com/yenda"> Eric Dvorsak</a>
        
    
</td>
        </tr>

        
          <tr>
              <th>Discussions-To</th>
              <td><a href="https:&#x2F;&#x2F;ethereum-magicians.org&#x2F;t&#x2F;eip-2400-transaction-receipt-uri&#x2F;">https:&#x2F;&#x2F;ethereum-magicians.org&#x2F;t&#x2F;eip-2400-transaction-receipt-uri&#x2F;</a></td>
          </tr>
        

        <tr>
            <th>Status</th>
            <td>
                Draft
                
            </td>
        </tr>

        <tr>
            <th>Type</th>
            <td>Standards Track</td>
        </tr>

        
          <tr>
              <th>Category</th>
              <td>ERC</td>
          </tr>
        

        <tr>
            <th>Created</th>
            <td>2019-11-05</td>
        </tr>

        

        
          <tr>
              <th>Requires</th>
              <td>155, 831</td>
          </tr>
        

        

        

        
  </table>

  
    <h2 id="simple-summary">Simple Summary</h2>
<p>A standardized URI for transaction receipt with complete information about transaction.</p>
<p>A standard way of representing a submitted transaction.</p>
<h2 id="abstract">Abstract</h2>
<p>A transaction hash is not very meaningful on its own, because it looks just like any other hash, and it might lack important information for reading a transaction. 
This standard includes all needed information for displaying a transaction and it's details, such as <code>chainId</code>, <code>method</code> signature called and <code>events</code> signatures emitted.</p>
<h3 id="use-cases">Use-cases</h3>
<p>Transaction Receipt URIs embedded in QR-codes, hyperlinks in web-pages, emails or chat messages provide for robust cross-application signaling between very loosely coupled applications. A standardized URI format allows for instant invocation of the userâ€™s preferred transaction explorer application. Such as:</p>
<ul>
<li>In web3 (dapps, mining pools, exchanges), links would automatically open user's preferred transaction explorer; </li>
<li>In wallets, for users sharing transaction receipts easier; </li>
<li>In chat applications, as a reply to an <a href="https://eips.ethereum.org/EIPS/eip-681">ERC-681</a> transaction request;</li>
<li>In crypto vending machines, a QRCode can be displayed when transactions are submitted;</li>
<li>Anywhere transaction receipts are presented to users.</li>
</ul>
<h2 id="motivation">Motivation</h2>
<p>Interoperability for web3: wallets, browsers and messengers.</p>
<h2 id="specification">Specification</h2>
<h3 id="syntax">Syntax</h3>
<p>Transaction receipt URLs contain &quot;ethereum&quot; in their schema (protocol) part and are constructed as follows:</p>
<pre style="background-color:#2b303b;">
<code>receipt                 = erc831_part transaction_hash [ &quot;@&quot; chain_id ] [ &quot;?&quot; parameters ]
erc831_part             = &quot;ethereum:tx-&quot; 
transaction_hash        = &quot;0x&quot; 64*HEXDIG 
chain_id                = 1*DIGIT
parameters              = parameter *( &quot;&amp;&quot; parameter )
parameter               = key &quot;=&quot; value
key                     = &quot;method&quot; / &quot;events&quot;
value                   = function_signature / event_list
function_signature      = function_name &quot;(&quot; TYPE *( &quot;,&quot; TYPE) &quot;)&quot;
function_name           = STRING
event_list              = event_signature *( &quot;;&quot; event_signature )
event_signature         = event_name &quot;(&quot; event_type *( &quot;,&quot; event_type) &quot;)&quot;
event_name              = STRING
event_type              = [&quot;!&quot;] TYPE
</code></pre>
<p>Where <code>TYPE</code> is a standard ABI type name, as defined in <a href="https://solidity.readthedocs.io/en/develop/abi-spec.html">Ethereum Contract ABI specification</a>. <code>STRING</code> is a URL-encoded unicode string of arbitrary length.</p>
<p>The exclamation symbol (<code>!</code>), in <code>event_type</code>, is used to identify indexed event parameters. </p>
<h3 id="semantics">Semantics</h3>
<p><code>transaction_hash</code> is mandatory. The hash must be looked up in the corresponding <code>chain_id</code> transaction history, if not found it should be looked into the pending transaction queue and rechecked until is found. If not found anequivalent error as &quot;transaction not found error&quot; should be shown instead of the transaction. When the transaction is pending, it should keep checking until the transaction is included in a block and becomes &quot;unrevertable&quot; (usually 12 blocks after transaction is included).</p>
<p><code>chain_id</code> is optional and contains the decimal chain ID, such that transactions on various test and private networks can be represented as well. If no <code>chain_id</code> is present, the $ETH/mainnet (<code>1</code>) is considered.</p>
<p>If <code>method</code> is not present, this means that the transaction receipt URI does not specify details, or that it was a transaction with no calldata. When present it needs to be validated by comparing the first 4 bytes of transaction calldata with the first 4 bytes of the keccak256 hash of <code>method</code>, if invalid, an equivalent error as &quot;method validation error&quot; must be shown instead of the transaction.</p>
<p>If <code>events</code> is not present, this means that the transaction receipt URI does not specify details, or that the transaction did not raised any events. Pending and failed transactions don't validate events, however, when transaction is successful (or changes from pending to success) and events are present in URI, each event in the <code>event_list</code> must occur at least once in the transaction receipt event logs, otherwise an equivalent error as &quot;event validation error: {event(s) [$event_signature, ...] not found}&quot; should be shown instead of the transaction.</p>
<h4 id="examples">Examples</h4>
<p>Simple ETH transfer: 
<code>ethereum:tx-0x1143b5e38fe3cf585fb026fb9b5ce35c85a691786397dc8a23a07a62796d8172@1</code></p>
<p><a href="https://etherscan.io/tx/0x4465e7cce3c784f264301bfe26fc17609855305213ec74c716c7561154b76fec#eventlog">Complex contract transaction</a>: 
<code>ethereum:tx-0x4465e7cce3c784f264301bfe26fc17609855305213ec74c716c7561154b76fec@1?method=&quot;issueAndActivateBounty(address,uint256,string,uint256,address,bool,address,uint256)&quot;&amp;events=&quot;Transfer(!address,!address,uint256);BountyIssued(uint256);ContributionAdded(uint256,!address,uint256);BountyActivated(uint256,address)&quot;</code></p>
<h2 id="rationale">Rationale</h2>
<p>The goal of this standard envolves only the transport of submitted transactions, and therefore transaction data must be loaded from blockchain or pending transaction queue, which also serves as a validation of the transaction existence. </p>
<p>Transaction hash not found is normal in fresh transactions, but can also mean that effectively a transaction was never submitted or have been replaced (through &quot;higher gasPrice&quot; nonce override or through an uncle/fork). </p>
<p>In order to decode transaction parameters and events, a part of the ABI is required. The transaction signer have to know the ABI to sign a transaction, and is also who is creating a transaction receipt, so the transaction receipt can optionally be shared with the information needed to decode the transaction call data and it's events. </p>
<h2 id="backwards-compatibility">Backwards Compatibility</h2>
<p>Future upgrades that are partially or fully incompatible with this proposal must use a prefix other than <code>tx-</code> that is separated by a dash (-) character from whatever follows it, as specified by <a href="https://eips.ethereum.org/EIPS/eip-831">ERC-831</a>.</p>
<h2 id="references">References</h2>
<ul>
<li><a href="https://eips.ethereum.org/EIPS/eip-831">ERC-831</a></li>
<li><a href="https://eips.ethereum.org/EIPS/eip-681">ERC-681</a></li>
</ul>
<h2 id="copyright">Copyright</h2>
<p>Copyright and related rights waived via <a href="https://creativecommons.org/publicdomain/zero/1.0/">CC0</a>.</p>



            </div>
        </main>


        <footer class="site-footer h-card">
            <div class="wrapper">
                <h2 class="footer-heading">Ethereum Improvement Proposals</h2>
                <div class="footer-col-wrapper">
                    <div class="footer-col footer-col-1">
                        <ul class="contact-list">
                            <li class="p-name">
                                
                                GitHub User
                                
                            </li>
                            <li>
                                <a class="u-email" href="mailto:your-email@domain.com">
                                  your-email@domain.com
                                </a>
                              </li>
                            </ul>
                    </div>
                    <div class="footer-col footer-col-3">
                        <p>Description</p>
                    </div>
                </div>
            </div>
        </footer>
    </body>
</html>
