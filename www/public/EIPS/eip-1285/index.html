<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" href="https:&#x2F;&#x2F;eips.ethereum.com&#x2F;minima.css">

        <!-- opengraph -->
        <meta property="og:locale" content="en_US" />
        <meta property="og:url" content="https:&#x2F;&#x2F;eips.ethereum.com" />
        <meta property="og:site_name" content="Ethereum Improvement Proposals" />

        <!-- twitter -->
        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@ethereum" />

        <script type="application/ld+json">
            {
              "@type": "WebSite",
              "url": "https:&#x2F;&#x2F;eips.ethereum.com",
              "name": "Ethereum Improvement Proposals",
              "description": "Description",
              "@context": "https://schema.org"
            }
        </script>

        

        

<title>EIP-1285: Increase Gcallstipend gas in the CALL OPCODE</title>
<link rel="canonical" href="https:&#x2F;&#x2F;eips.ethereum.comEIPS&#x2F;eip-1285.md" />
<meta property="og:title" content="EIP-1285: Increase Gcallstipend gas in the CALL OPCODE" />
<meta
    name="description"
    content="Details on Ethereum Improvement Proposal 1285 (EIP-1285): Increase Gcallstipend gas in the CALL OPCODE"
/>
<meta
    property="og:description"
    content="Details on Ethereum Improvement Proposal 1285 (EIP-1285): Increase Gcallstipend gas in the CALL OPCODE"
/>
<meta property="og:url" content="https:&#x2F;&#x2F;eips.ethereum.comEIPS&#x2F;eip-1285.md" />
<meta name="twitter:description" content="Details on Ethereum Improvement Proposal 1285 (EIP 1285): Increase Gcallstipend gas in the CALL OPCODE" />

    </head>
    <body>
        <header class="site-header">
            <div class="wrapper">
                <a class="site-title" rel="author" href="https:&#x2F;&#x2F;eips.ethereum.com">Ethereum Improvement Proposals</a>
                <nav class="site-nav">
                    <input type="checkbox" id="nav-trigger" class="nav-trigger" />
                    <label for="nav-trigger">
                        <span class="menu-icon">
                            <svg viewBox="0 0 18 15" width="18px" height="15px">
                                <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
                            </svg>
                        </span>
                    </label>

                    <div class="trigger">
                        
                            <a class="page-link" href="&#x2F;all">All</a>
                        
                            <a class="page-link" href="&#x2F;core">Core</a>
                        
                            <a class="page-link" href="&#x2F;networking">Networking</a>
                        
                            <a class="page-link" href="&#x2F;interface">Interface</a>
                        
                            <a class="page-link" href="&#x2F;erc">ERC</a>
                        
                            <a class="page-link" href="&#x2F;meta">Meta</a>
                        
                            <a class="page-link" href="&#x2F;informational">Informational</a>
                        
                    </div>
                </nav>
            </div>
        </header>
        <main class="page-content" aria-label="Content">
            <div class="wrapper">
                
<div class="home">
    <h1 class="page-heading">
        EIP-1285: Increase Gcallstipend gas in the CALL OPCODE
        <a href=""><svg role="img" aria-label="Source" xmlns="https://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><title>Source</title><path fill-rule="evenodd" d="M9.5 3L8 4.5 11.5 8 8 11.5 9.5 13 14 8 9.5 3zm-5 0L0 8l4.5 5L6 11.5 2.5 8 6 4.5 4.5 3z"/></svg></a>
    </h1>
    <table>
        <tr>
            <th>Author</th>
            <td>
    
        
        
            <a href="mailto:ben@daostack.io">Ben Kaufman</a>,
        
    
        
        
            <a href="mailto:adam@daostack.io">Adam Levi</a>
        
    
</td>
        </tr>

        
          <tr>
              <th>Discussions-To</th>
              <td><a href="https:&#x2F;&#x2F;ethereum-magicians.org&#x2F;t&#x2F;eip-1285-increase-gcallstipend-gas-in-the-call-opcode&#x2F;941">https:&#x2F;&#x2F;ethereum-magicians.org&#x2F;t&#x2F;eip-1285-increase-gcallstipend-gas-in-the-call-opcode&#x2F;941</a></td>
          </tr>
        

        <tr>
            <th>Status</th>
            <td>
                Draft
                
            </td>
        </tr>

        <tr>
            <th>Type</th>
            <td>Standards Track</td>
        </tr>

        
          <tr>
              <th>Category</th>
              <td>Core</td>
          </tr>
        

        <tr>
            <th>Created</th>
            <td>2018-08-01</td>
        </tr>

        

        

        

        

        
  </table>

  
    <h2 id="simple-summary">Simple Summary</h2>
<!--"If you can't explain it simply, you don't understand it well enough." Provide a simplified and layman-accessible explanation of the EIP.-->
<p>Increase the <code>Gcallstipend</code> fee parameter in the <code>CALL</code> OPCODE from <code>2,300</code> to <code>3,500</code> gas units.</p>
<h2 id="abstract">Abstract</h2>
<!--A short (~200 word) description of the technical issue being addressed.-->
<p>Currently, the <code>CALL</code> OPCODE forwards a stipend of <code>2,300</code> gas units for a non zero value <code>CALL</code> operations where a contract is called. This stipend is given to the contract to allow execution of its <code>fallback</code> function. The stipend given is intentionally small in order to prevent the called contract from spending the call gas or performing an attack (like re-entrancy).
While the stipend is small it should still give the sufficient gas required for some cheap OPCODES like <code>LOG</code>, but it's not enough for some more complex and modern logics to be implemented.
This EIP proposes to increase the given stipend from <code>2,300</code> to <code>3,500</code> to increase the usability of  the <code>fallback</code> function.</p>
<h2 id="motivation">Motivation</h2>
<!--The motivation is critical for EIPs that want to change the Ethereum protocol. It should clearly explain why the existing protocol specification is inadequate to address the problem that the EIP solves. EIP submissions without sufficient motivation may be rejected outright.-->
<p>The main motivation behind this EIP is to allow simple fallback functions to be implemented for contracts following the <code>&quot;Proxy&quot;</code> pattern. Simply explained, a <code>&quot;Proxy Contract&quot;</code> is a contract which use <code>DELEGATECALL</code> in its <code>fallback</code> function to behave according to the logic of another contract and serve as an independent instance for the logic of the contract it points to.
This pattern is very useful for saving gas per deployment (as Proxy contracts are very lean) and it opens the ability to experiment with upgradability of contracts.
On average, the <code>DELEGATECALL</code> functionality of a proxy contract costs about <code>1,000</code> gas units.
When a contract transfers ETH to a proxy contract, the proxy logic will consume about <code>1,000</code> gas units before the <code>fallback</code> function of the logic contract will be executed. This leaves merely about 1,300 gas units for the execution of the logic. This is a severe limitation as it is not enough for an average <code>LOG</code> operation (it might be enough for a <code>LOG</code> with one parameter).
By slightly increasing the gas units given in the stipend we allow proxy contracts have proper <code>fallback</code> logic without increasing the attack surface of the calling contract.</p>
<h2 id="specification">Specification</h2>
<!--The technical specification should describe the syntax and semantics of any new feature. The specification should be detailed enough to allow competing, interoperable implementations for any of the current Ethereum platforms (go-ethereum, parity, cpp-ethereum, ethereumj, ethereumjs, and [others](https://github.com/ethereum/wiki/wiki/Clients)).-->
<p>Increase the <code>Gcallstipend</code> fee parameter in the <code>CALL</code> OPCODE from <code>2,300</code> to <code>3,500</code> gas unit.
The actual change to the Ethereum clients would be to change the <code>CallStipend</code> they store as a constant.
For an implementation example you can find a Geth client implementation linked <a href="https://github.com/ben-kaufman/go-ethereum/tree/eip-1285">here</a>. The actual change to the code can be found <a href="https://github.com/ben-kaufman/go-ethereum/blob/eip-1285/params/protocol_params.go#L41">here</a>.</p>
<h2 id="rationale">Rationale</h2>
<!--The rationale fleshes out the specification by describing what motivated the design and why particular design decisions were made. It should describe alternate designs that were considered and related work, e.g. how the feature is supported in other languages. The rationale may also provide evidence of consensus within the community, and should discuss important objections or concerns raised during discussion.-->
<p>The rational for increasing the <code>Gcallstipend</code> gas parameter by <code>1,200</code> gas units comes from the cost of performing <code>DELEGATECALL</code> and <code>SLOAD</code> with a small margin for some small additional operations. All while still keeping the stipend relatively small and insufficient for accessing the storage or changing the state.</p>
<h2 id="backwards-compatibility">Backwards Compatibility</h2>
<!--All EIPs that introduce backwards incompatibilities must include a section describing these incompatibilities and their severity. The EIP must explain how the author proposes to deal with these incompatibilities. EIP submissions without a sufficient backwards compatibility treatise may be rejected outright.-->
<p>This EIP requires a backwards incompatible change for the <code>Gcallstipend</code> gas parameter in the <code>CALL</code> OPCODE.</p>
<h2 id="copyright">Copyright</h2>
<p>Copyright and related rights waived via <a href="https://creativecommons.org/publicdomain/zero/1.0/">CC0</a>.</p>



            </div>
        </main>


        <footer class="site-footer h-card">
            <div class="wrapper">
                <h2 class="footer-heading">Ethereum Improvement Proposals</h2>
                <div class="footer-col-wrapper">
                    <div class="footer-col footer-col-1">
                        <ul class="contact-list">
                            <li class="p-name">
                                
                                GitHub User
                                
                            </li>
                            <li>
                                <a class="u-email" href="mailto:your-email@domain.com">
                                  your-email@domain.com
                                </a>
                              </li>
                            </ul>
                    </div>
                    <div class="footer-col footer-col-3">
                        <p>Description</p>
                    </div>
                </div>
            </div>
        </footer>
    </body>
</html>
