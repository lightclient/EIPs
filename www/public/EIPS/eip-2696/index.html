<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" href="https:&#x2F;&#x2F;eips.ethereum.com&#x2F;minima.css">

        <!-- opengraph -->
        <meta property="og:locale" content="en_US" />
        <meta property="og:url" content="https:&#x2F;&#x2F;eips.ethereum.com" />
        <meta property="og:site_name" content="Ethereum Improvement Proposals" />

        <!-- twitter -->
        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@ethereum" />

        <script type="application/ld+json">
            {
              "@type": "WebSite",
              "url": "https:&#x2F;&#x2F;eips.ethereum.com",
              "name": "Ethereum Improvement Proposals",
              "description": "Description",
              "@context": "https://schema.org"
            }
        </script>

        

        

<title>EIP-2696: JavaScript `request` method RPC transport</title>
<link rel="canonical" href="https:&#x2F;&#x2F;eips.ethereum.comEIPS&#x2F;eip-2696.md" />
<meta property="og:title" content="EIP-2696: JavaScript `request` method RPC transport" />
<meta
    name="description"
    content="Details on Ethereum Improvement Proposal 2696 (EIP-2696): JavaScript `request` method RPC transport"
/>
<meta
    property="og:description"
    content="Details on Ethereum Improvement Proposal 2696 (EIP-2696): JavaScript `request` method RPC transport"
/>
<meta property="og:url" content="https:&#x2F;&#x2F;eips.ethereum.comEIPS&#x2F;eip-2696.md" />
<meta name="twitter:description" content="Details on Ethereum Improvement Proposal 2696 (EIP 2696): JavaScript `request` method RPC transport" />

    </head>
    <body>
        <header class="site-header">
            <div class="wrapper">
                <a class="site-title" rel="author" href="https:&#x2F;&#x2F;eips.ethereum.com">Ethereum Improvement Proposals</a>
                <nav class="site-nav">
                    <input type="checkbox" id="nav-trigger" class="nav-trigger" />
                    <label for="nav-trigger">
                        <span class="menu-icon">
                            <svg viewBox="0 0 18 15" width="18px" height="15px">
                                <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
                            </svg>
                        </span>
                    </label>

                    <div class="trigger">
                        
                            <a class="page-link" href="&#x2F;all">All</a>
                        
                            <a class="page-link" href="&#x2F;core">Core</a>
                        
                            <a class="page-link" href="&#x2F;networking">Networking</a>
                        
                            <a class="page-link" href="&#x2F;interface">Interface</a>
                        
                            <a class="page-link" href="&#x2F;erc">ERC</a>
                        
                            <a class="page-link" href="&#x2F;meta">Meta</a>
                        
                            <a class="page-link" href="&#x2F;informational">Informational</a>
                        
                    </div>
                </nav>
            </div>
        </header>
        <main class="page-content" aria-label="Content">
            <div class="wrapper">
                
<div class="home">
    <h1 class="page-heading">
        EIP-2696: JavaScript `request` method RPC transport
        <a href=""><svg role="img" aria-label="Source" xmlns="https://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><title>Source</title><path fill-rule="evenodd" d="M9.5 3L8 4.5 11.5 8 8 11.5 9.5 13 14 8 9.5 3zm-5 0L0 8l4.5 5L6 11.5 2.5 8 6 4.5 4.5 3z"/></svg></a>
    </h1>
    <table>
        <tr>
            <th>Author</th>
            <td>
    
        
        
            <a href="https://github.com/MicahZoltu">Micah Zoltu</a>,
        
    
        
        
            <a href="https://github.com/rekmarks"> Erik Marks</a>
        
    
</td>
        </tr>

        
          <tr>
              <th>Discussions-To</th>
              <td><a href="https:&#x2F;&#x2F;github.com&#x2F;ethereum&#x2F;EIPs&#x2F;issues&#x2F;2697">https:&#x2F;&#x2F;github.com&#x2F;ethereum&#x2F;EIPs&#x2F;issues&#x2F;2697</a></td>
          </tr>
        

        <tr>
            <th>Status</th>
            <td>
                Final
                
            </td>
        </tr>

        <tr>
            <th>Type</th>
            <td>Standards Track</td>
        </tr>

        
          <tr>
              <th>Category</th>
              <td>Interface</td>
          </tr>
        

        <tr>
            <th>Created</th>
            <td>2020-06-04</td>
        </tr>

        

        

        

        

        
  </table>

  
    <h2 id="simple-summary">Simple Summary</h2>
<p>A standard for remote procedure calls between an Ethereum Provider and an Ethereum Client when both are able to interface with each other via a shared JavaScript object.</p>
<h2 id="abstract">Abstract</h2>
<p>This standard provides the description of an object that is made available to JavaScript applications which they can use to communicate with the Ethereum blockchain through.  This standard only describes the transport mechanism, it does not specify the payloads that are valid nor does it specify how the client or the provider will discover or agree on payload content.</p>
<p>How/where this Ethereum object is exposed is left to future standards.</p>
<h2 id="motivation">Motivation</h2>
<p>When working within a JavaScript runtime (such as NodeJS, Electron, Browser, etc.) it may be possible for the runtime or a runtime plugin to inject objects into the runtime.  Someone authoring a runtime or a runtime plugin may choose to expose an Ethereum Provider to any JavaScript apps or scripts running within that runtime in order to provide indirect access to an Ethereum-like blockchain and potentially signing tools.  In order to achieve maximum compatibility between the provider and the client, a standard is necessary for what the shape of that object is.</p>
<h2 id="specification">Specification</h2>
<h3 id="rfc-2119">RFC-2119</h3>
<p>The key words &quot;MUST&quot;, &quot;MUST NOT&quot;, &quot;REQUIRED&quot;, &quot;SHALL&quot;, &quot;SHALL NOT&quot;, &quot;SHOULD&quot;, &quot;SHOULD NOT&quot;, &quot;RECOMMENDED&quot;,  &quot;MAY&quot;, and &quot;OPTIONAL&quot; in this document are to be interpreted as described in <a href="https://www.ietf.org/rfc/rfc2119.txt">RFC-2119</a>.</p>
<h3 id="interface">Interface</h3>
<p>TypeScript interface definition:</p>
<pre style="background-color:#2b303b;">
<code><span style="color:#b48ead;">interface </span><span style="color:#c0c5ce;">RequestArguments {
	</span><span style="color:#b48ead;">readonly </span><span style="color:#bf616a;">method</span><span style="color:#c0c5ce;">: string;
	</span><span style="color:#b48ead;">readonly </span><span style="color:#bf616a;">params</span><span style="color:#c0c5ce;">?: </span><span style="color:#b48ead;">readonly </span><span style="color:#c0c5ce;">unknown[] | object;
}

</span><span style="color:#b48ead;">interface </span><span style="color:#c0c5ce;">EthereumProvider {
	</span><span style="color:#8fa1b3;">request</span><span style="color:#c0c5ce;">(</span><span style="color:#bf616a;">args</span><span style="color:#c0c5ce;">: RequestArguments): Promise&lt;unknown&gt;
}
</span></code></pre>
<p>The Provider <strong>MUST</strong> implement implement a <code>request</code> method on the exposed <code>EthereumProvider</code> object.  The <code>request</code> method <strong>MUST</strong> be callable with a single parameter which contains the arguments for the request as defined in the TypeScript <code>interface</code> above.</p>
<p>If the Provider supports a JSON-RPC (https://www.jsonrpc.org/specification) request as specified elsewhere, then it <strong>MUST</strong> accept a <code>request</code> call for that JSON-RPC method with the <code>RequestArguments.method</code> argument matching the JSON-RPC <code>method</code> string for the RPC call and the <code>RequestArguments.params</code> matching the <code>params</code> object of the RPC call.  The <code>RequestArguments.params</code> should be encoded as a JavaScript object matching the specified JSON-RPC type, not encoded as a JSON string as would normally be the case when transporting JSON-RPC.</p>
<h4 id="example">Example</h4>
<p>If the JSON-RPC request would contain a payload like:</p>
<pre style="background-color:#2b303b;">
<code><span style="color:#c0c5ce;">&#39;</span><span style="color:#a3be8c;">{ &quot;jsonrpc&quot;: &quot;2.0&quot;, &quot;id&quot;: 1, &quot;method&quot;: &quot;do_work&quot;, &quot;params&quot;: [ 5, &quot;hello&quot; ] }</span><span style="color:#c0c5ce;">&#39;
</span></code></pre>
<p>Then the matching <code>EthereumProvider.request</code> call would be:</p>
<pre style="background-color:#2b303b;">
<code><span style="color:#b48ead;">declare const </span><span style="color:#bf616a;">provider</span><span style="color:#c0c5ce;">: EthereumProvider
</span><span style="color:#bf616a;">provider</span><span style="color:#c0c5ce;">.</span><span style="color:#8fa1b3;">request</span><span style="color:#c0c5ce;">({ method: &#39;</span><span style="color:#a3be8c;">method</span><span style="color:#c0c5ce;">&#39;, params: [ </span><span style="color:#d08770;">5</span><span style="color:#c0c5ce;">, &#39;</span><span style="color:#a3be8c;">hello</span><span style="color:#c0c5ce;">&#39; ] })
</span></code></pre><h3 id="results">Results</h3>
<p>If the Provider supports a JSON-RPC request as specified elsewhere, then it <strong>MUST</strong> return an object that matches the expected <code>result</code> definition for the associated JSON-RPC request.</p>
<h4 id="example-1">Example</h4>
<p>If the JSON-RPC response would contain a payload like:</p>
<pre style="background-color:#2b303b;">
<code><span style="color:#c0c5ce;">&#39;</span><span style="color:#a3be8c;">{ &quot;jsonrpc&quot;: &quot;2.0&quot;, &quot;id&quot;: 1, &quot;result&quot;: { &quot;color&quot;: &quot;red&quot;, &quot;value&quot;: 5 } }</span><span style="color:#c0c5ce;">&#39;
</span></code></pre>
<p>Then the matching <code>EthereumProvider.request</code> response would be:</p>
<pre style="background-color:#2b303b;">
<code><span style="color:#c0c5ce;">{ color: &#39;</span><span style="color:#a3be8c;">red</span><span style="color:#c0c5ce;">&#39;, value: </span><span style="color:#d08770;">5 </span><span style="color:#c0c5ce;">}
</span></code></pre><h3 id="errors">Errors</h3>
<pre style="background-color:#2b303b;">
<code><span style="color:#b48ead;">interface </span><span style="color:#c0c5ce;">ProviderRpcError </span><span style="color:#b48ead;">extends </span><span style="color:#ebcb8b;">Error </span><span style="color:#c0c5ce;">{
	</span><span style="color:#bf616a;">message</span><span style="color:#c0c5ce;">: string;
	</span><span style="color:#bf616a;">code</span><span style="color:#c0c5ce;">: number;
	</span><span style="color:#bf616a;">data</span><span style="color:#c0c5ce;">?: unknown;
}
</span></code></pre><table><thead><tr><th>code</th><th>message</th><th>meaning</th></tr></thead><tbody>
<tr><td>4001</td><td>User Rejected Request</td><td>The user rejected the request.</td></tr>
<tr><td>4100</td><td>Unauthorized</td><td>The requested method and/or account has not been authorized by the user.</td></tr>
<tr><td>4200</td><td>Unsupported Method</td><td>The Provider does not support the requested method.</td></tr>
<tr><td>4900</td><td>Disconnected</td><td>The Provider is disconnected from all chains.</td></tr>
<tr><td>4901</td><td>Chain Disconnected</td><td>The Provider is not connected to the requested chain.</td></tr>
</tbody></table>
<p>If the Provider is unable to fulfill a request for any reason, it <strong>MUST</strong> resolve the promise as an error.  The resolved error <strong>MUST</strong> be shaped as a <code>ProviderRpcError</code> defined above whenever possible.  <em>While it is impossible to guaranteed that a JavaScript application will never throw an out of memory or stack overflow error, care should be taken to ensure that promise rejections conform to the above shape whenever possible.</em></p>
<p>If a <code>code</code> is provided that is listed in the list above, or in the JSON-RPC specification (https://www.jsonrpc.org/specification#error_object), or in the associated JSON-RPC request standard being followed, then the error reason <strong>MUST</strong> align with the established meaning of that code and the <code>message</code> <strong>MUST</strong> match the provided <code>message</code></p>
<p>The <code>data</code> field <strong>MAY</strong> contain any data that is relevant to the error or would help the user understand or troubleshoot the error.</p>
<h2 id="rationale">Rationale</h2>
<p>While this standard is perhaps not the greatest mechanism for communicating between an application and a blockchain, it is closely aligned with established practices within the community so migration from existing systems to this one should be relatively easy.  Most communication is currently done via JSON-RPC, so aligning with the JSON-RPC standard was desired to enable quick integration with existing systems.</p>
<h2 id="security-considerations">Security Considerations</h2>
<p>The relationship between Ethereum Provider and client is a trusted one, where it is assumed that the user implicitly trusts the Ethereum Provider which is how it managed to get injected into the client, or the client expressly pulled in a connection to it.</p>
<h2 id="copyright">Copyright</h2>
<p>Copyright and related rights waived via <a href="https://creativecommons.org/publicdomain/zero/1.0/">CC0</a>.</p>



            </div>
        </main>


        <footer class="site-footer h-card">
            <div class="wrapper">
                <h2 class="footer-heading">Ethereum Improvement Proposals</h2>
                <div class="footer-col-wrapper">
                    <div class="footer-col footer-col-1">
                        <ul class="contact-list">
                            <li class="p-name">
                                
                                GitHub User
                                
                            </li>
                            <li>
                                <a class="u-email" href="mailto:your-email@domain.com">
                                  your-email@domain.com
                                </a>
                              </li>
                            </ul>
                    </div>
                    <div class="footer-col footer-col-3">
                        <p>Description</p>
                    </div>
                </div>
            </div>
        </footer>
    </body>
</html>
